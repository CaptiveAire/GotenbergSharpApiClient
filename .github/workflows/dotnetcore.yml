# name: Project Build

# on: [push]

# jobs:
#   build:
#     runs-on: windows-latest

#     steps:
#       - uses: actions/checkout@v1
#       - name: Setup .NET Core
#         uses: actions/setup-dotnet@v1
#         with:
#           dotnet-version: 3.0.100

#       - name: Generate build number
#         id: buildnumber
#         uses: einaregilsson/build-number@v1
#         with:
#           token: ${{secrets.github_token}}

#       - name: Print new build number
#         run: echo Build number is ${{ steps.buildnumber.outputs.build_number }}

#       - name: Restore
#         run: dotnet restore

#       - name: Pack
#         run: >-
#           dotnet pack
#           --no-restore
#           --configuration Release   
#           --version-suffix "1.0.${{ steps.buildnumber.outputs.build_number }}"

#       - name: Install NuGet client
#         uses: warrenbuckley/Setup-Nuget@v1

#       - name: Add private GitHub registry to NuGet
#         run: >-
#           nuget sources Add
#           -Name "GitHub" 
#           -Source https://nuget.pkg.github.com/ChangemakerStudios/index.json
#           -Username ChangemakerStudios
#           -Password ${{ secrets.GITHUB_TOKEN }}

#       - name: Push generated package to GitHub registry
#         run: >-
#           nuget push .\lib\bin\Release\*.symbols.nupkg
#           -Source "GitHub"
